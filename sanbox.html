<mat-card>
    <mat-card-title>Application Configuration</mat-card-title>
    <mat-card-content>
      <form [formGroup]="appForm" (ngSubmit)="onSubmit()">
        <mat-form-field appearance="outline">
          <mat-label>Alert Type</mat-label>
          <mat-select formControlName="alertType">
            <mat-option *ngFor="let type of alertTypes" [value]="type">
              {{ type }}
            </mat-option>
          </mat-select>
          <mat-error *ngIf="appForm.get('alertType')?.hasError('required')">
            Alert Type is required.
          </mat-error>
        </mat-form-field>
  
        <mat-form-field appearance="outline" *ngIf="appForm.get('alertType')?.value === 'email'">
          <mat-label>Email</mat-label>
          <input matInput formControlName="email" />
          <mat-error *ngIf="appForm.get('email')?.hasError('required')">
            Email is required.
          </mat-error>
          <mat-error *ngIf="appForm.get('email')?.hasError('email')">
            Please enter a valid email address.
          </mat-error>
        </mat-form-field>
  
        <div formGroupName="slack" *ngIf="appForm.get('alertType')?.value === 'slack'">
          <mat-form-field appearance="outline">
            <mat-label>Slack Webhook</mat-label>
            <input matInput formControlName="webhook" />
            <mat-error *ngIf="appForm.get('slack.webhook')?.hasError('required')">
              Slack Webhook is required.
            </mat-error>
          </mat-form-field>
        </div>
  
        </form>
    </mat-card-content>
  </mat-card>

  <mat-card>
    <mat-card-title>Application Configuration</mat-card-title>
    <mat-card-content>
      <form [formGroup]="appForm" (ngSubmit)="onSubmit()">
        <mat-form-field appearance="outline">
          <mat-label>Mount Paths</mat-label>
          <mat-chip-list #chipList aria-label="mount path selection">
            <mat-chip
              *ngFor="let mountPath of mountPathsFormArray.controls; let i = index"
              (removed)="remove(i)"
            >
              {{ mountPath.value }}
              <button matChipRemove>
                <mat-icon>cancel</mat-icon>
              </button>
            </mat-chip>
            <input
              placeholder="New mount path..."
              #mountPathInput
              [matChipInputFor]="chipList"
              [matChipInputSeparatorKeyCodes]="separatorKeysCodes"
              (matChipInputTokenEnd)="add($event)"
            />
          </mat-chip-list>
        </mat-form-field>
  
        </form>
    </mat-card-content>
  </mat-card>

  // app.component.html
<mat-card>
  <mat-card-title>Application Configuration</mat-card-title>
  <mat-card-content>
    <form [formGroup]="appForm" (ngSubmit)="onSubmit()">
      <mat-form-field appearance="outline">
        <mat-label>App ID</mat-label>
        <input matInput formControlName="appId" />
        <mat-error *ngIf="appForm.get('appId')?.hasError('required')">
          App ID is required.
        </mat-error>
      </mat-form-field>

      <mat-form-field appearance="outline">
        <mat-label>Environment Type</mat-label>
        <mat-select formControlName="envType">
          <mat-option *ngFor="let type of envTypes" [value]="type">
            {{ type }}
          </mat-option>
        </mat-select>
        <mat-error *ngIf="appForm.get('envType')?.hasError('required')">
          Environment Type is required.
        </mat-error>
      </mat-form-field>

      <mat-form-field appearance="outline">
        <mat-label>Mount Path</mat-label>
        <input matInput formControlName="mountPath" />
        <mat-error *ngIf="appForm.get('mountPath')?.hasError('required')">
          Mount Path is required.
        </mat-error>
      </mat-form-field>

      <mat-form-field appearance="outline">
        <mat-label>File System Type</mat-label>
        <mat-select formControlName="fileSystemType">
          <mat-option *ngFor="let type of fileSystemTypes" [value]="type">
            {{ type }}
          </mat-option>
        </mat-select>
        <mat-error *ngIf="appForm.get('fileSystemType')?.hasError('required')">
          File System Type is required.
        </mat-error>
      </mat-form-field>

      <mat-form-field appearance="outline">
        <mat-label>Alert Type</mat-label>
        <mat-select formControlName="alertType">
          <mat-option *ngFor="let type of alertTypes" [value]="type">
            {{ type }}
          </mat-option>
        </mat-select>
        <mat-error *ngIf="appForm.get('alertType')?.hasError('required')">
          Alert Type is required.
        </mat-error>
      </mat-form-field>

      <mat-form-field appearance="outline">
        <mat-label>Email</mat-label>
        <input matInput formControlName="email" />
        <mat-error *ngIf="appForm.get('email')?.hasError('required')">
          Email is required.
        </mat-error>
        <mat-error *ngIf="appForm.get('email')?.hasError('email')">
          Please enter a valid email address.
        </mat-error>
      </mat-form-field>

      <mat-form-field appearance="outline">
        <mat-label>Condition</mat-label>
        <mat-select formControlName="condition">
          <mat-option *ngFor="let condition of conditions" [value]="condition">
            {{ condition }}
          </mat-option>
        </mat-select>
        <mat-error *ngIf="appForm.get('condition')?.hasError('required')">
          Condition is required.
        </mat-error>
      </mat-form-field>

      <mat-form-field appearance="outline">
        <mat-label>Threshold</mat-label>
        <input matInput formControlName="threshold" />
        <mat-error *ngIf="appForm.get('threshold')?.hasError('required')">
          Threshold is required.
        </mat-error>
        <mat-error *ngIf="appForm.get('threshold')?.hasError('pattern')">
          Threshold must be a number.
        </mat-error>
      </mat-form-field>

      <button mat-raised-button color="primary" type="submit">Submit</button>
    </form>
  </mat-card-content>
</mat-card>


<!-- update #2 alert field -->
<mat-card>
    <mat-card-title>Application Configuration</mat-card-title>
    <mat-card-content>
      <form [formGroup]="appForm" (ngSubmit)="onSubmit()">
        <mat-form-field appearance="outline">
          <mat-label>Alert Type</mat-label>
          <mat-select formControlName="alertType">
            <mat-option *ngFor="let type of alertTypes" [value]="type">
              {{ type }}
            </mat-option>
          </mat-select>
          <mat-error *ngIf="appForm.get('alertType')?.hasError('required')">
            Alert Type is required.
          </mat-error>
        </mat-form-field>
  
        <mat-form-field appearance="outline" *ngIf="appForm.get('alertType')?.value === 'email'">
          <mat-label>Email</mat-label>
          <input matInput formControlName="email" />
          <mat-error *ngIf="appForm.get('email')?.hasError('required')">
            Email is required.
          </mat-error>
          <mat-error *ngIf="appForm.get('email')?.hasError('email')">
            Please enter a valid email address.
          </mat-error>
        </mat-form-field>
  
        <mat-form-field appearance="outline" *ngIf="appForm.get('alertType')?.value === 'slack'">
          <mat-label>Slack Webhook</mat-label>
          <input matInput formControlName="slack.webhook" formGroupName="slack" />
          <mat-error *ngIf="appForm.get('slack.webhook')?.hasError('required')">
            Slack Webhook is required.
          </mat-error>
        </mat-form-field>
        </form>
    </mat-card-content>
  </mat-card>


  <mat-card>
    <mat-card-title>Application Configuration</mat-card-title>
    <mat-card-content>
      <form [formGroup]="appForm" (ngSubmit)="onSubmit()">
        <mat-form-field appearance="outline">
          <mat-label>Threshold</mat-label>
          <input matInput formControlName="threshold" />
          <mat-error *ngIf="appForm.get('threshold')?.hasError('required')">
            Threshold is required.
          </mat-error>
          <mat-error *ngIf="appForm.get('threshold')?.hasError('min') || appForm.get('threshold')?.hasError('max')">
            Threshold must be between 1 and 99.
          </mat-error>
        </mat-form-field>
      </form>
    </mat-card-content>
  </mat-card>


  <mat-card style="flex: 1; margin-left: 20px;">
    <mat-card-title>Mount Paths</mat-card-title>
    <mat-card-content>
      <mat-list>
        <mat-list-item
          *ngFor="let mountPath of mountPathsFormArray.controls; let i = index"
          (click)="remove(i)"
          style="cursor: pointer;"
        >
          {{ mountPath.value }}
        </mat-list-item>
      </mat-list>
    </mat-card-content>
  </mat-card>


  <!-- Update #3 DYNAMIC Form field -->

  <div style="display: flex;">
    <mat-card style="flex: 2;">
      <mat-card-title>Application Configuration</mat-card-title>
      <mat-card-content>
        <form [formGroup]="appForm" (ngSubmit)="onSubmit()">
          <mat-form-field appearance="outline">
            <mat-label>App ID</mat-label>
            <input matInput formControlName="appId" />
          </mat-form-field>
  
          <mat-form-field appearance="outline">
            <mat-label>Environment Type</mat-label>
            <mat-select formControlName="envType">
              <mat-option *ngFor="let type of envTypes" [value]="type">
                {{ type }}
              </mat-option>
            </mat-select>
          </mat-form-field>
  
          <ng-container formArrayName="metrics">
            <div *ngFor="let metric of metricsFormArray.controls; let i = index" [formGroupName]="i">
              <mat-card style="margin-bottom: 20px;">
                <mat-card-title>Metric {{ i + 1 }}</mat-card-title>
                <mat-card-content>
                  <mat-form-field appearance="outline">
                    <mat-label>File System Type</mat-label>
                    <mat-select formControlName="fileSystemType">
                      <mat-option *ngFor="let type of fileSystemTypes" [value]="type">
                        {{ type }}
                      </mat-option>
                    </mat-select>
                  </mat-form-field>
  
                  <mat-form-field appearance="outline">
                    <mat-label>Alert Type</mat-label>
                    <mat-select formControlName="alertType">
                      <mat-option *ngFor="let type of alertTypes" [value]="type">
                        {{ type }}
                      </mat-option>
                    </mat-select>
                  </mat-form-field>
  
                  <mat-form-field appearance="outline" *ngIf="metric.get('alertType')?.value === 'email'">
                    <mat-label>Email</mat-label>
                    <input matInput formControlName="email" />
                  </mat-form-field>
  
                  <mat-form-field appearance="outline" *ngIf="metric.get('alertType')?.value === 'slack'">
                    <mat-label>Slack Webhook</mat-label>
                    <input matInput formControlName="webhook" formGroupName="slack" />
                  </mat-form-field>
  
                  <mat-form-field appearance="outline">
                    <mat-label>Condition</mat-label>
                    <mat-select formControlName="condition">
                      <mat-option *ngFor="let condition of conditions" [value]="condition">
                        {{ condition }}
                      </mat-option>
                    </mat-select>
                  </mat-form-field>
  
                  <mat-form-field appearance="outline">
                    <mat-label>Threshold</mat-label>
                    <input matInput formControlName="threshold" />
                    <mat-error *ngIf="metric.get('threshold')?.hasError('required')">
                      Threshold is required.
                    </mat-error>
                    <mat-error *ngIf="metric.get('threshold')?.hasError('min') || metric.get('threshold')?.hasError('max')">
                      Threshold must be between 1 and 99.
                    </mat-error>
                  </mat-form-field>
  
                  <mat-form-field appearance="outline">
                    <mat-label>Add Mount Paths</mat-label>
                    <mat-chip-list #chipList aria-label="mount path selection">
                      <input
                        placeholder="New mount path..."
                        #mountPathInput
                        [matChipInputFor]="chipList"
                        [matChipInputSeparatorKeyCodes]="separatorKeysCodes"
                        (matChipInputTokenEnd)="add(i, $event)"
                        [formControl]="mountPathInputControl"
                      />
                    </mat-chip-list>
                    <mat-error *ngIf="metric.get('mountPaths')?.hasError('minOneMountPath')">
                      At least one mount path is required.
                    </mat-error>
                  </mat-form-field>
  
                  <button mat-raised-button color="warn" type="button" (click)="removeMetric(i)">
                    Remove Metric
                  </button>
                </mat-card-content>
              </mat-card>
            </div>
          </ng-container>
  
          <button mat-raised-button color="primary" type="button" (click)="addMetric()">
            Add Metric
          </button>
  
          <button mat-raised-button color="primary" type="submit" [disabled]="loading">
            Submit
          </button>
  
          <mat-spinner *ngIf="loading"></mat-spinner>
        </form>
      </mat-card-content>
    </mat-card>
  
    <mat-card style="flex: 1; margin-left: 20px;">
      <mat-card-title>Mount Paths</mat-card-title>
      <mat-card-content>
        <ng-container formArrayName="metrics">
          <div *ngFor="let metric of metricsFormArray.controls; let i = index" [formGroupName]="i">
            <mat-card-title>Metric {{ i + 1 }} Mount Paths</mat-card-title>
            <mat-list>
              <mat-list-item
                *ngFor="let mountPath of metric.get('mountPaths')?.controls; let j = index"
                (click)="remove(i, j)"
                style="cursor: pointer;"
              >
                {{ mountPath.value }}
              </mat-list-item>
            </mat-list>
          </div>
        </ng-container>
      </mat-card-content>
    </mat-card>
  </div>

  <!-- update 4 -->
  <div style="display: flex;">
    <mat-card style="flex: 2;">
      <mat-card-title>Application Configuration</mat-card-title>
      <mat-card-content>
        <form [formGroup]="appForm" (ngSubmit)="onSubmit()">
          <mat-form-field appearance="outline">
            <mat-label>App ID</mat-label>
            <input matInput formControlName="appId" />
          </mat-form-field>
  
          <mat-form-field appearance="outline">
            <mat-label>Environment Type</mat-label>
            <mat-select formControlName="envType">
              <mat-option *ngFor="let type of envTypes" [value]="type">
                {{ type }}
              </mat-option>
            </mat-select>
          </mat-form-field>
  
          <ng-container formArrayName="metrics">
            <div *ngFor="let metric of metricsFormArray.controls; let i = index" [formGroupName]="i">
              <mat-card style="margin-bottom: 20px;">
                <mat-card-title>Metric {{ i + 1 }}</mat-card-title>
                <mat-card-content>
                  <mat-form-field appearance="outline">
                    <mat-label>File System Type</mat-label>
                    <mat-select formControlName="fileSystemType">
                      <mat-option *ngFor="let type of fileSystemTypes" [value]="type">
                        {{ type }}
                      </mat-option>
                    </mat-select>
                  </mat-form-field>
  
                  <mat-form-field appearance="outline">
                    <mat-label>Alert Type</mat-label>
                    <mat-select formControlName="alertType">
                      <mat-option *ngFor="let type of alertTypes" [value]="type">
                        {{ type }}
                      </mat-option>
                    </mat-select>
                  </mat-form-field>
  
                  <mat-form-field appearance="outline" *ngIf="metric.get('alertType')?.value === 'email'">
                    <mat-label>Email</mat-label>
                    <input matInput formControlName="email" />
                  </mat-form-field>
  
                  <mat-form-field appearance="outline" *ngIf="metric.get('alertType')?.value === 'slack'">
                    <mat-label>Slack Webhook</mat-label>
                    <input matInput formControlName="slack" />
                  </mat-form-field>
  
                  <mat-form-field appearance="outline">
                    <mat-label>Condition</mat-label>
                    <mat-select formControlName="condition">
                      <mat-option *ngFor="let condition of conditions" [value]="condition">
                        {{ condition }}
                      </mat-option>
                    </mat-select>
                  </mat-form-field>
  
                  <mat-form-field appearance="outline">
                    <mat-label>Threshold</mat-label>
                    <input matInput formControlName="threshold" />
                    <mat-error *ngIf="metric.get('threshold')?.hasError('required')">
                      Threshold is required.
                    </mat-error>
                    <mat-error *ngIf="metric.get('threshold')?.hasError('min') || metric.get('threshold')?.hasError('max')">
                      Threshold must be between 1 and 99.
                    </mat-error>
                  </mat-form-field>
  
                  <mat-form-field appearance="outline">
                    <mat-label>Mount Path</mat-label>
                    <input matInput formControlName="mountPath" />
                    <mat-error *ngIf="metric.get('mountPath')?.hasError('required')">
                      Mount Path is required.
                    </mat-error>
                  </mat-form-field>
  
                  <button mat-raised-button color="warn" type="button" (click)="removeMetric(i)">
                    Remove Metric
                  </button>
                </mat-card-content>
              </mat-card>
            </div>
          </ng-container>
  
          <button mat-raised-button color="primary" type="button" (click)="addMetric()">
            Add Metric
          </button>
  
          <button mat-raised-button color="primary" type="submit" [disabled]="loading">
            Submit
          </button>
  
          <mat-spinner *ngIf="loading"></mat-spinner>
        </form>
      </mat-card-content>
    </mat-card>
  
    <mat-card style="flex: 1; margin-left: 20px;">
      <mat-card-title>Metrics Mount Paths</mat-card-title>
      <mat-card-content>
        <ng-container formArrayName="metrics">
          <div *ngFor="let metric of metricsFormArray.controls; let i = index" [formGroupName]="i">
            <mat-card-title>Metric {{ i + 1 }} Mount Path</mat-card-title>
            <mat-card-content>
              <mat-list>
                <mat-list-item
                  *ngIf="metric.get('mountPath')?.value"
                  style="cursor: pointer;"
                >
                  {{ metric.get('mountPath')?.value }}
                </mat-list-item>
              </mat-list>
            </mat-card-content>
          </div>
        </ng-container>
      </mat-card-content>
    </mat-card>
  </div>




  <div style="display: flex;">
    <mat-card style="flex: 2;">
      <mat-card-title>Application Configuration</mat-card-title>
      <mat-card-content>
        <form [formGroup]="appForm" (ngSubmit)="onSubmit()">
          <ng-container formArrayName="metrics">
            <div *ngFor="let metric of metricsFormArray.controls; let i = index" [formGroupName]="i.toString()">
              <mat-card style="margin-bottom: 20px;">
                <mat-card-title>
                  Metric {{ i + 1 }}
                  <button mat-icon-button (click)="toggleCollapse(i)">
                    <mat-icon>{{ collapsedMetrics[i] ? 'expand_more' : 'expand_less' }}</mat-icon>
                  </button>
                </mat-card-title>
                <mat-card-content *ngIf="!collapsedMetrics[i]">
                  <mat-form-field appearance="outline">
                    <mat-label>Alert Type</mat-label>
                    <mat-select formControlName="alertType">
                      <mat-option *ngFor="let type of alertTypes" [value]="type">
                        {{ type }}
                      </mat-option>
                    </mat-select>
                  </mat-form-field>
  
                  <mat-form-field appearance="outline" *ngIf="metricsFormArray.at(i).get('alertType')?.value === 'email' || metricsFormArray.at(i).get('alertType')?.value === 'both'">
                    <mat-label>Email</mat-label>
                    <input matInput formControlName="email" />
                  </mat-form-field>
  
                  <mat-form-field appearance="outline" *ngIf="metricsFormArray.at(i).get('alertType')?.value === 'slack' || metricsFormArray.at(i).get('alertType')?.value === 'both'">
                    <mat-label>Slack Webhook</mat-label>
                    <input matInput formControlName="slack" />
                  </mat-form-field>
  
                  </mat-card-content>
              </mat-card>
            </div>
          </ng-container>
  
          </form>
      </mat-card-content>
    </mat-card>
  
    </div>
   
    <-- update 6--> 
    <mat-card style="width: 100%;">
  <mat-card-title>Search Application</mat-card-title>
  <mat-card-content>
    <form [formGroup]="searchForm">
      <div style="display: flex; flex-wrap: wrap;">
        <div style="flex: 1; min-width: 300px; padding-right: 10px;">
          <mat-form-field appearance="outline" style="width: 100%;">
            <mat-label>App ID</mat-label>
            <input matInput formControlName="appId" />
          </mat-form-field>
        </div>
        <div style="flex: 1; min-width: 300px; padding-left: 10px;">
          <mat-form-field appearance="outline" style="width: 100%;">
            <mat-label>Environment Type</mat-label>
            <mat-select formControlName="envType">
              <mat-option value="dev">dev</mat-option>
              <mat-option value="test">test</mat-option>
              <mat-option value="prod">prod</mat-option>
            </mat-select>
          </mat-form-field>
        </div>
      </div>
      <button mat-raised-button color="primary" (click)="searchApp()">Search</button>
    </form>

    <div *ngIf="searchResults">
      <h2>Search Results</h2>
      <p><strong>App ID:</strong> {{ searchResults.appId }}</p>
      <p><strong>Environment:</strong> {{ searchResults.envType }}</p>

      <mat-form-field>
        <input matInput (keyup)="applyFilter($event)" placeholder="Filter">
      </mat-form-field>

      <table mat-table [dataSource]="dataSource" matSort style="width: 100%;">
        <ng-container matColumnDef="fileSystemType">
          <th mat-header-cell *matHeaderCellDef mat-sort-header> File System Type </th>
          <td mat-cell *matCellDef="let element"> {{element.fileSystemType}} </td>
        </ng-container>

        <ng-container matColumnDef="alertType">
          <th mat-header-cell *matHeaderCellDef mat-sort-header> Alert Type </th>
          <td mat-cell *matCellDef="let element"> {{element.alertType}} </td>
        </ng-container>

        <ng-container matColumnDef="email">
          <th mat-header-cell *matHeaderCellDef mat-sort-header> Email </th>
          <td mat-cell *matCellDef="let element"> {{element.email}} </td>
        </ng-container>

        <ng-container matColumnDef="slack">
          <th mat-header-cell *matHeaderCellDef mat-sort-header> Slack </th>
          <td mat-cell *matCellDef="let element"> {{element.slack}} </td>
        </ng-container>

        <ng-container matColumnDef="condition">
          <th mat-header-cell *matHeaderCellDef mat-sort-header> Condition </th>
          <td mat-cell *matCellDef="let element"> {{element.condition}} </td>
        </ng-container>

        <ng-container matColumnDef="threshold">
          <th mat-header-cell *matHeaderCellDef mat-sort-header> Threshold </th>
          <td mat-cell *matCellDef="let element"> {{element.threshold}} </td>
        </ng-container>

        <ng-container matColumnDef="mountPath">
          <th mat-header-cell *matHeaderCellDef mat-sort-header> Mount Path </th>
          <td mat-cell *matCellDef="let element"> {{element.mountPath}} </td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns;" (click)="openDialog(row)" style="cursor: pointer;" class="mat-row-hover"></tr>
      </table>

      <mat-paginator [pageSizeOptions]="[5, 10, 25, 100]"></mat-paginator>
    </div>
  </mat-card-content>
</mat-card>


<--  metric-dialog.component.html  -->
<h2 mat-dialog-title>Update Metric</h2>
<mat-dialog-content>
  <form [formGroup]="metricForm">
    <mat-form-field appearance="outline">
      <mat-label>File System Type</mat-label>
      <input matInput formControlName="fileSystemType">
    </mat-form-field>
    <mat-form-field appearance="outline">
      <mat-label>Alert Type</mat-label>
      <mat-select formControlName="alertType">
        <mat-option value="email">email</mat-option>
        <mat-option value="slack">slack</mat-option>
        <mat-option value="both">both</mat-option>
      </mat-select>
    </mat-form-field>
    <mat-form-field appearance="outline">
      <mat-label>Email</mat-label>
      <input matInput formControlName="email">
    </mat-form-field>
    <mat-form-field appearance="outline">
      <mat-label>Slack</mat-label>
      <input matInput formControlName="slack">
    </mat-form-field>
    <mat-form-field appearance="outline">
      <mat-label>Condition</mat-label>
      <input matInput formControlName="condition">
    </mat-form-field>
    <mat-form-field appearance="outline">
      <mat-label>Threshold</mat-label>
      <input matInput formControlName="threshold">
    </mat-form-field>
    <mat-form-field appearance="outline">
      <mat-label>Mount Path</mat-label>
      <input matInput formControlName="mountPath">
    </mat-form-field>
  </form>
</mat-dialog-content>
<mat-dialog-actions>
  <button mat-button (click)="onCancelClick()">Cancel</button>
  <button mat-button [mat-dialog-close]="metricForm.value" cdkFocusInitial>Submit</button>
</mat-dialog-actions>








<!- update 7 ->

<mat-card style="width: 100%;">
  <mat-card-title>Search Application</mat-card-title>
  <mat-card-content>
    <mat-tab-group [(selectedIndex)]="selectedIndex">
      <mat-tab label="Search">
        <form [formGroup]="searchForm">
          <div style="display: flex; flex-wrap: wrap;">
            <div style="flex: 1; min-width: 300px; padding-right: 10px;">
              <mat-form-field appearance="outline" style="width: 100%;">
                <mat-label>App ID</mat-label>
                <input matInput formControlName="appId" />
                <mat-error *ngIf="searchForm.get('appId')?.hasError('required')">
                  App ID is required
                </mat-error>
              </mat-form-field>
            </div>
            <div style="flex: 1; min-width: 300px; padding-left: 10px;">
              <mat-form-field appearance="outline" style="width: 100%;">
                <mat-label>Environment Type</mat-label>
                <mat-select formControlName="envType">
                  <mat-option value="dev">dev</mat-option>
                  <mat-option value="test">test</mat-option>
                  <mat-option value="prod">prod</mat-option>
                </mat-select>
                <mat-error *ngIf="searchForm.get('envType')?.hasError('required')">
                  Environment Type is required
                </mat-error>
              </mat-form-field>
            </div>
          </div>
          <button mat-raised-button color="primary" (click)="searchApp()" [disabled]="isLoading">
            Search
          </button>
          <mat-spinner *ngIf="isLoading" style="display: inline-block; margin-left: 10px;"></mat-spinner>
        </form>
      </mat-tab>
      <mat-tab label="Results" [disabled]="!searchResults">
        <div *ngIf="searchResults">
          <h2>Search Results</h2>
          <p><strong>App ID:</strong> {{ searchResults.appId }}</p>
          <p><strong>Environment:</strong> {{ searchResults.envType }}</p>

          <mat-form-field>
            <input matInput (keyup)="applyFilter($event)" placeholder="Filter">
          </mat-form-field>

          <table mat-table [dataSource]="dataSource" matSort style="width: 100%;">
            
            <ng-container matColumnDef="fileSystemType">
              <th mat-header-cell *matHeaderCellDef mat-sort-header> File System Type </th>
              <td mat-cell *matCellDef="let element"> {{element.fileSystemType}} </td>
            </ng-container>
    
            <ng-container matColumnDef="alertType">
              <th mat-header-cell *matHeaderCellDef mat-sort-header> Alert Type </th>
              <td mat-cell *matCellDef="let element"> {{element.alertType}} </td>
            </ng-container>
    
            <ng-container matColumnDef="email">
              <th mat-header-cell *matHeaderCellDef mat-sort-header> Email </th>
              <td mat-cell *matCellDef="let element"> {{element.email}} </td>
            </ng-container>
    
            <ng-container matColumnDef="slack">
              <th mat-header-cell *matHeaderCellDef mat-sort-header> Slack </th>
              <td mat-cell *matCellDef="let element"> {{element.slack}} </td>
            </ng-container>
    
            <ng-container matColumnDef="condition">
              <th mat-header-cell *matHeaderCellDef mat-sort-header> Condition </th>
              <td mat-cell *matCellDef="let element"> {{element.condition}} </td>
            </ng-container>
    
            <ng-container matColumnDef="threshold">
              <th mat-header-cell *matHeaderCellDef mat-sort-header> Threshold </th>
              <td mat-cell *matCellDef="let element"> {{element.threshold}} </td>
            </ng-container>
    
            <ng-container matColumnDef="mountPath">
              <th mat-header-cell *matHeaderCellDef mat-sort-header> Mount Path </th>
              <td mat-cell *matCellDef="let element"> {{element.mountPath}} </td>
            </ng-container>
    
            <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedColumns;" (click)="openDialog(row)" style="cursor: pointer;" class="mat-row-hover"></tr>
          </table>

          <mat-paginator [pageSizeOptions]="[5, 10, 25, 100]"></mat-paginator>
        </div>
      </mat-tab>
    </mat-tab-group>
  </mat-card-content>
</mat-card>
<! update 9  >

<mat-form-field appearance="outline">
  <mat-label>Mount Path</mat-label>
  <input matInput formControlName="mountPath">
  <mat-error *ngIf="metricForm.get('mountPath')?.hasError('required')">
    Mount path is required
  </mat-error>
  <mat-error *ngIf="metricForm.get('mountPath')?.hasError('invalidLinuxPath')">
    Invalid Linux path
  </mat-error>
</mat-form-field>
